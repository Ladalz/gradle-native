image: nokeedev/generic-builder

build:
  stage: build
  script: gradle assemble -x :docs:generateSamplesAsciinema -x :docs:compileDocsAsciicast
  artifacts:
    when: on_failure
    paths:
      - subprojects/docs/build/

deploy:
  stage: deploy
  script: gradle bintrayUpload
  only:
    - master
