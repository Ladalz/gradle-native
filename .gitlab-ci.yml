image: nokeedev/generic-builder

build:
  stage: build
  script: gradle assemble

test:
  stage: test
  script: ./gradlew check
  artifacts:
    paths:
      - subprojects/platformJni/build/reports/tests/functionalTest
      - subprojects/docs/build/reports/tests/docsTest

deploy:
  stage: deploy
  script: gradle bintrayUpload
  only:
    - master
